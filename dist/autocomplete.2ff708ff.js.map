{"version":3,"sources":["autocomplete.js"],"names":["createAutoComplete","root","renderOption","onOptionSelect","inputValue","fetchData","innerHTML","input","querySelector","dropdown","resultsWrapper","onInput","event","items","target","value","length","classList","remove","add","item","option","document","createElement","addEventListener","appendChild","debounce","contains"],"mappings":"AAAA;;;;;;;AAEA,MAAMA,kBAAkB,GAAG,UAAmE;AAAA,MAAlE;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,YAAR;AAAsBC,IAAAA,cAAtB;AAAsCC,IAAAA,UAAtC;AAAkDC,IAAAA;AAAlD,GAAkE;AAC7FJ,EAAAA,IAAI,CAACK,SAAL;AAUA,QAAMC,KAAK,GAAGN,IAAI,CAACO,aAAL,CAAmB,OAAnB,CAAd;AACA,QAAMC,QAAQ,GAAGR,IAAI,CAACO,aAAL,CAAmB,WAAnB,CAAjB;AACA,QAAME,cAAc,GAAGT,IAAI,CAACO,aAAL,CAAmB,UAAnB,CAAvB;;AAEA,QAAMG,OAAO,GAAG,MAAMC,KAAN,IAAe;AAC9B,UAAMC,KAAK,GAAG,MAAMR,SAAS,CAACO,KAAK,CAACE,MAAN,CAAaC,KAAd,CAA7B;;AAEA,QAAI,CAACF,KAAK,CAACG,MAAX,EAAmB;AAClBP,MAAAA,QAAQ,CAACQ,SAAT,CAAmBC,MAAnB,CAA0B,WAA1B;AACA;AACA;;AAEDR,IAAAA,cAAc,CAACJ,SAAf,GAA2B,EAA3B;AACAG,IAAAA,QAAQ,CAACQ,SAAT,CAAmBE,GAAnB,CAAuB,WAAvB;;AACA,SAAK,IAAIC,IAAT,IAAiBP,KAAjB,EAAwB;AACvB,YAAMQ,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAf;AAEAF,MAAAA,MAAM,CAACJ,SAAP,CAAiBE,GAAjB,CAAqB,eAArB;AACAE,MAAAA,MAAM,CAACf,SAAP,GAAmBJ,YAAY,CAACkB,IAAD,CAA/B;AACAC,MAAAA,MAAM,CAACG,gBAAP,CAAwB,OAAxB,EAAiC,MAAM;AACtCf,QAAAA,QAAQ,CAACQ,SAAT,CAAmBC,MAAnB,CAA0B,WAA1B;AACAX,QAAAA,KAAK,CAACQ,KAAN,GAAcX,UAAU,CAACgB,IAAD,CAAxB;AACAjB,QAAAA,cAAc,CAACiB,IAAD,CAAd;AACA,OAJD;AAMAV,MAAAA,cAAc,CAACe,WAAf,CAA2BJ,MAA3B;AACA;AACD,GAvBD;;AAwBAd,EAAAA,KAAK,CAACiB,gBAAN,CAAuB,OAAvB,EAAgCE,QAAQ,CAACf,OAAD,EAAU,GAAV,CAAxC;AAEAW,EAAAA,QAAQ,CAACE,gBAAT,CAA0B,OAA1B,EAAmCZ,KAAK,IAAI;AAC3C,QAAI,CAACX,IAAI,CAAC0B,QAAL,CAAcf,KAAK,CAACE,MAApB,CAAL,EAAkC;AACjCL,MAAAA,QAAQ,CAACQ,SAAT,CAAmBC,MAAnB,CAA0B,WAA1B;AACA;AACD,GAJD;AAKA,CA9CD;;eAgDelB","file":"autocomplete.2ff708ff.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\r\n\r\nconst createAutoComplete = ({ root, renderOption, onOptionSelect, inputValue, fetchData }) => {\r\n\troot.innerHTML = `\r\n    <label><b>Search</b></label>\r\n    <input class=\"input\" />\r\n    <div class=\"dropdown\">\r\n      <div class=\"dropdown-menu\">\r\n        <div class=\"dropdown-content results\"</div>\r\n      </div>\r\n    </div>\r\n`;\r\n\r\n\tconst input = root.querySelector('input');\r\n\tconst dropdown = root.querySelector('.dropdown');\r\n\tconst resultsWrapper = root.querySelector('.results');\r\n\r\n\tconst onInput = async event => {\r\n\t\tconst items = await fetchData(event.target.value);\r\n\r\n\t\tif (!items.length) {\r\n\t\t\tdropdown.classList.remove('is-active');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tresultsWrapper.innerHTML = '';\r\n\t\tdropdown.classList.add('is-active');\r\n\t\tfor (let item of items) {\r\n\t\t\tconst option = document.createElement('a');\r\n\r\n\t\t\toption.classList.add('dropdown-item');\r\n\t\t\toption.innerHTML = renderOption(item);\r\n\t\t\toption.addEventListener('click', () => {\r\n\t\t\t\tdropdown.classList.remove('is-active');\r\n\t\t\t\tinput.value = inputValue(item);\r\n\t\t\t\tonOptionSelect(item);\r\n\t\t\t});\r\n\r\n\t\t\tresultsWrapper.appendChild(option);\r\n\t\t}\r\n\t};\r\n\tinput.addEventListener('input', debounce(onInput, 750));\r\n\r\n\tdocument.addEventListener('click', event => {\r\n\t\tif (!root.contains(event.target)) {\r\n\t\t\tdropdown.classList.remove('is-active');\r\n\t\t}\r\n\t});\r\n};\r\n\r\nexport default createAutoComplete;\r\n"]}