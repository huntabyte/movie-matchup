{"version":3,"sources":["index.js"],"names":["leftMovie","rightMovie","autoCompleteConfig","renderOption","movie","imgSrc","Poster","Title","Year","inputValue","fetchData","searchTerm","axios","get","params","apikey","s","response","data","Error","Search","createAutoComplete","root","document","querySelector","onOptionSelect","onMovieSelect","summaryElement","side","i","imdbID","innerHTML","movieTemplate","runComparison","getElementById","addEventListener","leftSideStats","querySelectorAll","rightSideStats","forEach","leftStat","index","rightStat","leftSideValue","parseInt","dataset","value","classList","remove","add","movieDetail","dollars","BoxOffice","replace","metascore","Metascore","imdbRating","parseFloat","console","log","imdbVotes","awards","Awards","split","reduce","prev","word","isNaN","Genre","Plot"],"mappings":"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","file":"src.f20158b6.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\r\n\r\nconst autoCompleteConfig = {\r\n\trenderOption(movie) {\r\n\t\tconst imgSrc = movie.Poster === 'N/A' ? '' : movie.Poster;\r\n\t\treturn `\r\n      <img src=\"${imgSrc}\" />\r\n      ${movie.Title} (${movie.Year})\r\n    `;\r\n\t},\r\n\tinputValue(movie) {\r\n\t\treturn movie.Title;\r\n\t},\r\n\tasync fetchData(searchTerm) {\r\n\t\tconst response = await axios.get('http://www.omdbapi.com/', {\r\n\t\t\tparams: {\r\n\t\t\t\tapikey: '87b954c',\r\n\t\t\t\ts: searchTerm,\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tif (response.data.Error) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\r\n\t\treturn response.data.Search;\r\n\t},\r\n};\r\n\r\ncreateAutoComplete({\r\n\t...autoCompleteConfig,\r\n\troot: document.querySelector('#left-autocomplete'),\r\n\tonOptionSelect(movie) {\r\n\t\tonMovieSelect(movie, document.querySelector('#left-summary'), 'left');\r\n\t},\r\n});\r\ncreateAutoComplete({\r\n\t...autoCompleteConfig,\r\n\troot: document.querySelector('#right-autocomplete'),\r\n\tonOptionSelect(movie) {\r\n\t\tonMovieSelect(movie, document.querySelector('#right-summary'), 'right');\r\n\t},\r\n});\r\n\r\nlet leftMovie;\r\nlet rightMovie;\r\nconst onMovieSelect = async (movie, summaryElement, side) => {\r\n\tconst response = await axios.get('http://www.omdbapi.com/', {\r\n\t\tparams: {\r\n\t\t\tapikey: '87b954c',\r\n\t\t\ti: movie.imdbID,\r\n\t\t},\r\n\t});\r\n\r\n\tsummaryElement.innerHTML = movieTemplate(response.data);\r\n\r\n\tif (side === 'left') {\r\n\t\tleftMovie = response.data;\r\n\t} else {\r\n\t\trightMovie = response.data;\r\n\t}\r\n\tif (leftMovie && rightMovie) {\r\n\t\trunComparison();\r\n\t\tdocument.getElementById('left-summary').addEventListener('DOMSubtreeModified', runComparison());\r\n\t\tdocument.getElementById('right-summary').addEventListener('DOMSubtreeModified', runComparison());\r\n\t}\r\n};\r\n\r\nconst runComparison = () => {\r\n\tconst leftSideStats = document.querySelectorAll('#left-summary .notification');\r\n\tconst rightSideStats = document.querySelectorAll('#right-summary .notification');\r\n\r\n\tleftSideStats.forEach((leftStat, index) => {\r\n\t\tconst rightStat = rightSideStats[index];\r\n\t\tconst leftSideValue = parseInt(leftStat.dataset.value);\r\n\t\tconst rightSideValue = parseInt(rightStat.dataset.value);\r\n\r\n\t\tif (rightSideValue > leftSideValue) {\r\n\t\t\tleftStat.classList.remove('is-success');\r\n\t\t\tleftStat.classList.remove('is-danger');\r\n\t\t\tleftStat.classList.add('is-danger');\r\n\t\t\trightStat.classList.remove('is-danger');\r\n\t\t\trightStat.classList.add('is-success');\r\n\t\t} else {\r\n\t\t\trightStat.classList.remove('is-success');\r\n\t\t\trightStat.classList.remove('is-danger');\r\n\t\t\trightStat.classList.add('is-danger');\r\n\t\t\tleftStat.classList.remove('is-danger');\r\n\t\t\tleftStat.classList.add('is-success');\r\n\t\t}\r\n\t});\r\n};\r\n\r\nconst movieTemplate = movieDetail => {\r\n\tconst dollars = parseInt(movieDetail.BoxOffice.replace(/\\$/g, '').replace(/,/g, ''));\r\n\tconst metascore = parseInt(movieDetail.Metascore);\r\n\tconst imdbRating = parseFloat(movieDetail.imdbRating) * 10;\r\n\tconsole.log(imdbRating);\r\n\tconst imdbVotes = parseInt(movieDetail.imdbVotes.replace(/,/g, ''));\r\n\r\n\tconst awards = movieDetail.Awards.split(' ').reduce((prev, word) => {\r\n\t\tconst value = parseInt(word);\r\n\r\n\t\tif (isNaN(value)) {\r\n\t\t\treturn prev;\r\n\t\t} else {\r\n\t\t\treturn prev + value;\r\n\t\t}\r\n\t}, 0);\r\n\r\n\tconst imgSrc = movieDetail.Poster === 'N/A' ? '' : movieDetail.Poster;\r\n\treturn `\r\n  <article class=\"media\">\r\n    <figure class=\"media-left\">\r\n      <p class=\"image\">\r\n        <img src=\"${imgSrc}\" />\r\n      </p>\r\n    </figure>\r\n    <div class=\"media-content\">\r\n      <div class=\"content\">\r\n        <h1>${movieDetail.Title}</h1>\r\n        <h4>${movieDetail.Genre}</h4>\r\n        <p>${movieDetail.Plot}</p>\r\n      </div>\r\n    </div>\r\n  </article>\r\n\r\n  <article data-value=${awards} class=\"notification is-success\">\r\n    <p class=\"title\">${movieDetail.Awards}</p>\r\n    <p class=\"subtitle\">Awards</p>\r\n  </article>\r\n\r\n  <article data-value=${dollars} class=\"notification is-success\">\r\n    <p class=\"title\">${movieDetail.BoxOffice}</p>\r\n    <p class=\"subtitle\">Box Office</p>\r\n  </article>\r\n\r\n  <article data-value=${metascore} class=\"notification is-success\">\r\n    <p class=\"title\">${movieDetail.Metascore}</p>\r\n    <p class=\"subtitle\">Metascore</p>\r\n  </article>\r\n\r\n  <article data-value=${imdbRating} class=\"notification is-success\">\r\n    <p class=\"title\">${movieDetail.imdbRating}</p>\r\n    <p class=\"subtitle\">IMDB Rating</p>\r\n  </article>\r\n\r\n  <article data-value=${imdbVotes} class=\"notification is-success\">\r\n    <p class=\"title\">${movieDetail.imdbVotes}</p>\r\n    <p class=\"subtitle\">IMDB Votes</p>\r\n  </article>\r\n  `;\r\n};\r\n"]}